<!DOCTYPE html>
<html lang="en">
	<head>

		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<meta name="description" content=""/>
		<meta name="author" content=""/>
		<!--		<link rel="icon" href="../../favicon.ico"/>-->

		<title>RAW demo</title>

		<link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
		<!--<link rel="stylesheet" href="theme.css">-->
		<link rel="stylesheet" href="jquery-ui-1.11.4/jquery-ui.min.css"/>
		<link rel="stylesheet" href="js/jsoneditor/dist/jsoneditor.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/d3_graphs.css"/>
		<link rel="stylesheet" href="css/BootSideMenu.css"/>
		<link rel="stylesheet" href="css/bootstrap-treeview.css"/>
		<link rel="stylesheet" href="css/tabs.css"/>
		<style type="text/css" media="screen">
        #editor {
	        height: 600px;
	        font-size: 18px;
        }

	    #demoBox {
		    height: 0px;
		    line-height: 0px;
		    text-align:left;
		    margin-bottom:10px;
	    }

	    #demoComments {
		    vertical-align:bottom;
		    display:inline-block;
		    line-height:normal;
		    text-align:left;
		    font-size: 18px;
	    }

	    #demoNavigation {
		    visibility:hidden;
		    vertical-align:bottom;
		    display:block;
		    line-height:normal;
		    text-align:left;
		    margin-top:10px;
		    margin-bottom:10px;
		    padding-left:10px;
		    padding-right:10px;
	    }

	    #values {
		    height: 600px;
		    font-size: 18px;
	    }
	    #graph_tab{
		    height: 600px;
		    font-size: 18px;        
	    }
        #editor {
            height:600px;
        }
	    .navbar-brand,
	    .navbar-nav li a {
		    line-height: 65px;
		    height: 65px;
		    padding-top: 1px;
	    }

	    body {
		    padding-top: 80px;
	    }
	    /* This is for the 'save as' dialog
	     * Remember to check this for small size displays */
	    .download-div{
		    height: 200px;
		    width: 430px;
	    }
	    #execute_btn{
		    /*cursor: pointer;*/
		    visibility:hidden;
	    }
        /*Load query selection element*/
        #load_query_sel{
            height:200px;
        }
        
		</style>
		<!-- jquery -->
		<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
		<script src="jquery-ui-1.11.4/jquery-ui.min.js" type="text/javascript"></script>
		<!-- bootstrap -->
		<script src="js/bootstrap.min.js" type="text/javascript"></script>
		<!-- google charts -->
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<!-- d3 -->
		<script src="js/d3.v3.min.js"></script>
		<!-- dropbox -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/dropbox.js/0.10.2/dropbox.min.js"></script>
		<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="f64lfu3jyw86z4t"></script>
	</head>
	<body>
		<div id="side_panel">
			<div class="container-fluid">
				<div class="panel panel-default">
					<div class="panel-heading"> <h3 class="panel-title">My data</h3> </div>
					<div class="panel-body">
						<div class="btn-group btn-group-vertical">
							<button class="btn btn-default" id="add_dropbox2">
								<span class="glyphicon glyphicon-plus"> Add data</span> 
							</button>
							<button type="button" class="btn btn-default" id="list_schemas">
								<span class="glyphicon glyphicon-refresh"> Ref. sources </span>
							</button>
						</div>
						<div id="schema_tree"></div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"> <h3 class="panel-title">Save Results</h3> </div>
					<div class="panel-body">
						<div class="btn-group btn-group-vertical">
							<button class="btn btn-default" id="download_results">
								<span class="glyphicon glyphicon-download-alt"> Download</span> 
							</button>
							<button class="btn btn-default" id = "save_to_dropbox">
								<img src="images/dropbox.png" alt="dropbox" style="width:32px;height:24px;float:left; padding-right: 10px; padding-left: 10px;" />
								Save to Dropbox
							</button>
						</div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"> <h3 class="panel-title">Query times</h3> </div>
					<div class="panel-body" id="exec_time">
                        <li >Exec. time:----(ms)</li>
                        <li >Comp. time:----(ms)</li>
                    </div>
				</div>
				<label class="checkbox-inline" for="checkboxes-0">
					<input type="checkbox" name="checkboxes" id="auto_query" checked="true"/>
					Auto Query
				</label>
			</div>
		</div> <!-- /side panel -->

		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span> 
						<span class="icon-bar"></span> 
                        <span class="icon-bar"></span> 
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="http://www.raw-labs.com/"><img src="logo.png"/></a>
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li id="add_dropbox"><a>Add data</a></li>
						<li id="load_query"><a >Load</a></li>
						<li id="save_query"><a>Save</a></li>
						<li><a href="http://blog.raw-labs.com/">Learn More</a></li>
					</ul>
				</div>
			</div>
		</div> <!--nav bar-->
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-6"><!-- Query panel-->
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">
								<span id="indicator" class="label label-success">Ready</span> 
								<button class="pull-right btn btn-info btn-xs" id="execute_btn">execute</button>
							</h3>
						</div>

						<div class="panel-body">
							<div id="editor" class="col-lg-12" >Write your query here...</div>
						</div>
					</div>
				</div> <!-- /Query panel-->
				<div class="col-lg-6"> <!--Data visualization panel-->
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">
								Answer
								<div class="pull-right btn-group" role="group" id="next_group">
									<button type="button" class="btn btn-default btn-xs" id="get_next" > get next</button>
									<button type="button" class="btn btn-default btn-xs" id="get_all">get all</button>
								</div>
							</h3>
						</div>
						<div class="panel-body">
							<div class="tabbable" id="vis_tab"> <!--data vis tab-->
								<ul class="nav nav-pills nav-stacked col-md-3 pull-left" style="width:12%" id="vis_nav"><!--the tab pane has to be put to 100%-width-->
									<li><a href="#values" data-toggle="tab" id="values_li">values</a></li>
									<li id="draw_table" >
										<a href="#graph_tab" data-toggle="tab" id="table_li" > 
											<span class="glyphicon glyphicon-th"></span>
										</a>
									</li>
                                    <li role="separator" class="divider"></li>
									<li id="2d_dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" id="2d_li" href="#">
											<span class="glyphicon glyphicon-stats"></span>
											<span class="caret"></span>
										</a>
										<ul class="dropdown-menu" >
											<li id="draw_pie"><a href="#" >Pie Chart</a></li>
											<li id="draw_bar"><a href="#" >Bar Chart</a></li>
											<li id="draw_line"><a href="#">Line Chart</a></li>
											<li id="draw_scatter"><a href="#" >XY Scatter</a></li>
											<li id="draw_histogram"><a href="#" >Histogram</a></li>
										</ul>
									</li>
									<li class = "dropdown" id="3d_dropdown" >
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" id="3d_li" href="#"> 
											<span class="glyphicon glyphicon-dashboard"></span>
											<span class="caret"></span>
										</a>
										<ul class="dropdown-menu">
											<li id="draw_3dsurface"><a href="#" >3D surface</a></li>
											<li id="draw_3dbars"><a href="#" >3D Bars</a></li>
											<li id="draw_heatmap"><a href="#">Heatmap</a></li>
										</ul>
									</li>
									<li class = "dropdown"  id="hierarchy_dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button"  ref="#" id="tree_li">
											<span class="glyphicon glyphicon-object-align-horizontal"></span>
											<span class="caret"></span>
										</a>
										<ul class="dropdown-menu" >
											<li id="draw_tree"><a href="#" >Tree</a></li>
											<li id="draw_sunburst"><a href="#" >Sunburst graph</a></li>
											<li id="draw_circle_pack"><a href="#" >Circle packing</a></li>
											<li id="draw_treemap"><a href="#" >Tree Map</a></li>
											<li id="draw_bubblechart"><a href="#" >Bubble Plot</a></li>
										</ul>
									</li>
									<li id="draw_geo">
										<a href="#graph_tab" data-toggle="tab" id="geo_li"> 
											<span class="glyphicon glyphicon-globe"></span>
										</a>
									</li>
								</ul> <!--/nav-pils (graph selection pane)-->
								<div class="tab-content col-md-9 pull-right" style="width:88%" id="vis_content"><!--The selection pane has to 100% -width this (12%)-->
									<div class="tab-pane active" id="values">
										<div id="json_editor" class = "container pull-right" style="height: 98%; width: 100%;"></div>
									</div>
									<div class="tab-pane" id="graph_tab">
										<div class="container pull-right" id="graph" style="height: 98%; width: 100%;"></div>
									</div>
								</div> <!--/tab content -->
							</div> <!-- /data vis tab--> 
						</div> <!-- /panel body -->
					</div> <!--/panel pane-->
				</div> <!--/Data visualization panel-->
			</div>
			<div class="col-lg-12 panel-body" id="alerts"></div>
			<!-- Modal Panel after dropbox selection-->
			<div class="modal fade" id="register_dialog" role="dialog">
				<div class="modal-dialog">
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header" style="padding:35px 50px;">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<img src="images/dropbox.png" alt="dropbox" style="width:50px;height:50px;float:left; padding-right: 10px; padding-left: 10px;" />
							<h4 id="modal_header"> Register Files</h4>
						</div>
						<div class="modal-body" style="padding:40px 50px;" id = "modal_body"></div>
					</div>
				</div>
			</div>
			<!-- Modal Panel for downloading data-->
			<div class="modal fade" id="download_dialog" role="dialog" >
				<div class="modal-dialog download-div" >
					<div class="modal-content">
						<div class="modal-header" >
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 id="modal_header"> Save results as</h4>
						</div>
				<div class="modal-body" style="padding:40px 50px;" >
					<button type="submit" class="btn btn-default btn-lg" id = "download_json">
						<img src="images/mimetype_json_blue.png" alt="json" style="width:70px;height:50px;float:left; padding-right: 10px; padding-left: 10px;" />
					</button>
					<button type="submit" class="btn btn-default btn-lg" id = "download_csv" >
						<img src="images/csv-xxl.png" alt="csv" style="width:70px;height:50px;float:left; padding-right: 10px; padding-left: 10px;" />
					</button>
						<button class="btn btn-default btn-lg " id = "download_excel" rel="tooltip" title="coming soon">
							<img src="images/xls.png" alt="excel" style="width:70px;height:50px;float:left; " />
						</button>
				</div>
					</div>
				</div>
			</div>
			<!-- Modal Panel for saving a query -->
			<div class="modal fade" id="save_query_dialog" role="dialog" >
				<div class="modal-dialog download-div" >
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 id="modal_header"> Save query as</h4>
						</div>
						<div class="modal-body " >
							<form class="form" role="form">
								<div class="form-group">
									<input type="text" class="form-control" id="query_name" placeholder="query name" >
								</div>
									<button type="submit" class="btn btn-success" id = "query_save_button">
										<span class="glyphicon glyphicon-ok-sign"></span>
										Save!
									</button>
							</form>
						</div>
					</div>
				</div>
			</div>
			<!-- Modal Panel for loading queries -->
			<div class="modal fade" id="load_query_dialog" role="dialog" >
				<div class="modal-dialog download-div" >
					<div class="modal-content">
						<div class="modal-header" >
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 id="modal_header"> Select query to load</h4>
						</div>
				<div class="modal-body"  >
					<form class="form" role="form">
						<div class="form-group">
							<select multiple class="form-control" id="load_query_sel"></select>
						</div>
						<button type="submit" class="btn btn-success" id = "query_load_button">
							<span class="glyphicon glyphicon-ok-sign"></span>
							Load!
						</button>
					</form>
				</div>
					</div>
				</div>
			</div>
			<!--This is just so to download query results -->
			<a id="downloadAnchorElem" style="display:none"></a>
			<!--Slide menu -->
			<script src="js/BootSideMenu.js"></script>
			<script src="js/bootstrap-treeview.js"></script>
			<script type="text/javascript" src="js/graph3d-min.js"></script>

			<!-- Ace editor -->
			<script type="text/javascript" src="js/ace-builds/src-min-noconflict/ace.js"></script>
			<script type="text/javascript" src="js/ace-builds/src-min-noconflict/theme-ambiance.js"></script>
			<script type="text/javascript" src="js/ace-builds/src-min-noconflict/mode-sql.js"></script>
			<script type="text/javascript" src="js/mode-qrawl.js"></script>

			<!-- JSON Editor -->
			<script src="js/jsoneditor/dist/jsoneditor.min.js"></script>
			<!--our own drawing libraries -->
			<script type="text/javascript" src="js/raw_utils.js"></script>
			<script type="text/javascript" src="js/draw_functions.js"></script>
			<script type="text/javascript" src="js/raw_draw.js"></script>
			<script type="text/javascript" src="js/raw_walkthrough_steps.js"></script>
			<script type="text/javascript" src="js/raw_api.js"></script>
			<script type="text/javascript" src="js/raw_query.js"></script>
			<script type="text/javascript" src="js/raw_walkthrough.js"></script>
			<script type="text/javascript" src="js/raw_dropbox.js"></script>
		</div>
	</body>
</html>










